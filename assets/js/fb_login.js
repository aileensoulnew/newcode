var User=function(){var Fblogin=function(){window.fbAsyncInit=function(){FB.init({appId:'825714887566997',cookie:true,xfbml:true,version:'v2.8'});};(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return;}js=d.createElement(s);js.id=id;js.src="//connect.facebook.net/en_US/sdk.js";fjs.parentNode.insertBefore(js,fjs);}(document,'script','facebook-jssdk'));$('.facebook_ac').on('click',function(){FB.login(function(response){if(response.authResponse){var accessToken=response.authResponse.accessToken;FB.api('/me?fields=id,name,email,birthday,permissions,picture,first_name,gender,last_name',function(response){$.ajax({url:'https://www.aileensoul.com/registration/flogin',type:'POST',data:response,beforeSend:function(){},success:function(data){if(data=="yes"){window.location="https://www.aileensoul.com/registration";}else{alert("Sorry, please try again");}},error:function(e){console.log(e);}});});}else{alert('User cancelled login or did not fully authorize.');}},{scope:'user_about_me,email,public_profile'});});$('.logout').on('click',function(){FB.getLoginStatus(function(response){if(response.status==='connected'){FB.logout(function(response){$.ajax({url:'https://www.aileensoul.com/dashboard/logout',type:'POST',data:response,beforeSend:function(){},success:function(data){window.location="https://www.aileensoul.com";},error:function(e){console.log(e);}});});}else{$.ajax({url:'https://www.aileensoul.com/dashboard/logout',type:'POST',data:response,beforeSend:function(){},success:function(data){window.location="https://www.aileensoul.com";},error:function(e){console.log(e);}});}});});}
var GoogleLogin=function(){$(".google_ac_l").click(function(){gapi.load('auth2',function(){auth2=gapi.auth2.init({client_id:'915145699322-ufhclpk3k90bvt2v5u31s2ai35jg8j9j.apps.googleusercontent.com',cookiepolicy:'single_host_origin',});Google_attachSignin(document.getElementById('google_ac_l'));});});$(".google_ac_r").click(function(){gapi.load('auth2',function(){auth2=gapi.auth2.init({client_id:'915145699322-ufhclpk3k90bvt2v5u31s2ai35jg8j9j.apps.googleusercontent.com',cookiepolicy:'single_host_origin',});Google_attachSignin(document.getElementById('google_ac_r'));});});}
var Google_attachSignin=function(element){auth2.attachClickHandler(element,{},function(googleUser){var ginfo=googleUser.getBasicProfile(),Userinfo={'name':ginfo.getName(),'givename':ginfo.getGivenName(),'familyname':ginfo.getFamilyName(),'image':ginfo.getImageUrl(),'email':ginfo.getEmail(),'id':ginfo.getId()};$.ajax({url:base_url,type:'POST',dataType:'JSON',data:Userinfo,beforeSend:function(){},success:function(data){if(data['status']==true){location.reload();}else{alert("Sorry, please try again");}},error:function(e){console.log(e);}});},function(error){alert(JSON.stringify(error,undefined,2));});}
return{init:function(){Fblogin();GoogleLogin();}};}();jQuery(document).ready(function(){User.init();});